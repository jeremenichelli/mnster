!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.monster=t(e)}(this,function(){"use strict";var e=/^(mns-)/,t=/^(mns-attr-)/,n=/^(mns-each-)/,o=/((-)[a-zA-Z0-9]+)/,a=function(e){var t=this;return e.template?(t.template=e.template,e.model&&e.context?(t.context=e.context,t.model={},t.model[e.context]=e.model,void t.bindModel()):void console.error("Please specify a model and a context")):void console.error("No template specified")},l=function(e,t){"classList"in e?e.classList.add(t):e.className+=""===e.className?t:" "+t},r=function(e,t){for(var n=t.split("."),o=e,a=0,l=n.length;l>a;a++)o="undefined"!=typeof o[n[a]]?o[n[a]]:!1;return o},i={text:function(e,t,n){var o=r(n,t.value);e.innerHTML=o?o+"":""},attr:function(e,n,o){var a=n.name.replace(t,""),l=r(o,n.value);e.setAttribute(a,l?l+"":"")},each:function(e,t,o,l){var i,c,s,d,u=r(o,l+"."+t.name.replace(n,"")),m=t.value;e.__monsterTemplate__||(e.__monsterTemplate__=e.children[0].cloneNode(!0)),d=e.__monsterTemplate__.cloneNode(!0),e.innerHTML="";for(var p in u)s=d.cloneNode(!0),i=u[p]||{},c=new a({template:s,context:m,model:i}),e.appendChild(s);i=s=c=d=null},show:function(e,t,n){var o=r(n,t.value);e.style.display=o?"block":"none"},hide:function(e,t,n){var o=r(n,t.value);e.style.display=o?"none":"block"},"class":function(e,t,n){if(t.value){var o=r(n,t.value);l(e,o+"")}}};a.prototype.bindModel=function(){var e=this;e.nodes=e.template.querySelectorAll("*");for(var t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])},a.prototype.bindNode=function(t){for(var n=this,a=t.attributes,l=0,r=a.length;r>l;l++){var c,s=a[l],d=s.name;e.test(d)&&(c=d.replace(e,"").replace(o,""),c in i&&i[c](t,s,n.model,n.context))}},a.prototype.update=function(){for(var e=this,t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])};var c=function(e,t){var n=new a({template:e,context:t.context,model:t.model});return n};return{view:c}});