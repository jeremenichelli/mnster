!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.monster=t(e)}(this,function(){"use strict";var e={},t=/^(mns-)/,n=/^(mns-attr-)/,o=/^(mns-each-)/,a=/((-)[a-zA-Z0-9]+)/,l=function(e){var t=this;return e.template?(t.template=e.template,e.model&&e.context?(t.context=e.context,t.model={},t.model[e.context]=e.model,void t.bindModel()):void console.error("Please specify a model and a context")):void console.error("No template specified")},r=function(e,t){"classList"in e?e.classList.add(t):e.className+=""===e.className?t:" "+t},i=function(e,t){for(var n=t.split("."),o=e,a=0,l=n.length;l>a;a++)o="undefined"!=typeof o[n[a]]&&null!==o[n[a]]?o[n[a]]:"";return o};e.text=function(e,t,n){var o=i(n,t.value);e.innerHTML=o+""},e.attr=function(e,t,o){var a=t.name.replace(n,""),l=i(o,t.value);e.setAttribute(a,l+"")},e.each=function(e,t,n,a){var r,c,d,s,u=t.name.replace(o,""),m=i(n,a===u?a:a+"."+u),p=t.value;e.__monsterTemplate__||(e.__monsterTemplate__=e.children[0].cloneNode(!0)),s=e.__monsterTemplate__.cloneNode(!0),e.innerHTML="";for(var f in m)d=s.cloneNode(!0),r=m[f]||{},c=new l({template:d,context:p,model:r}),e.appendChild(d);r=d=c=s=null},e.show=function(e,t,n){var o=i(n,t.value);e.style.display=o?"block":"none"},e.hide=function(e,t,n){var o=i(n,t.value);e.style.display=o?"none":"block"},e["class"]=function(e,t,n){if(t.value){var o=i(n,t.value);r(e,o+"")}},l.prototype.bindModel=function(){var e=this;e.nodes=e.template.querySelectorAll("*"),e.bindNode(e.template);for(var t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])},l.prototype.bindNode=function(n){for(var o=this,l=n.attributes,r=0,i=l.length;i>r;r++){var c=l[r],d=c.name,s=d.replace(t,"").replace(a,"");t.test(d)&&s in e&&e[s](n,c,o.model,o.context)}},l.prototype.update=function(){for(var e=this,t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])};var c=function(e,t){var n=new l({template:e,context:t.context,model:t.model});return n};return{view:c}});