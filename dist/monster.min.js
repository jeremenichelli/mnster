!function(e,t){"use strict";"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.monster=t(e)}(this,function(e){"use strict";var t={},n=/^(mns-)/,o=/^(mns-attr-)/,l=/^(mns-each-)/,r=/^(mns-on)/,a=/((-)[a-zA-Z0-9]+)+/,i=function(t){var n=this;return t.template?(n.template=t.template,t.model&&t.context?(n.model={},n.model[t.context]=t.model,n.controller=t.controller||e,void n.bindModel()):void console.error("Please specify a model and a context")):void console.error("No template specified")},c=function(e,t){"classList"in e?e.classList.add(t):e.className+=""===e.className?t:" "+t},d=function(e,t){for(var n=t.split("."),o=e,l=0,r=n.length;r>l;l++)o="undefined"!=typeof o[n[l]]&&null!==o[n[l]]?o[n[l]]:"";return o};t.text=function(e,t,n){var o=d(n,t.value);e.innerHTML=o+""},t.attr=function(e,t,n){var l=t.name.replace(o,""),r=d(n,t.value);e.setAttribute(l,r+"")},t.each=function(e,t,n){var o,r,a,c,s=d(n,t.value),u=t.name.replace(l,"");e.__monsterTemplate__||(e.__monsterTemplate__=e.children[0].cloneNode(!0)),c=e.__monsterTemplate__.cloneNode(!0),e.innerHTML="";for(var m in s)a=c.cloneNode(!0),o=s[m]||{},r=new i({template:a,context:u,model:o}),e.appendChild(a);o=a=r=c=null},t.show=function(e,t,n){var o=d(n,t.value);e.style.display=o?"block":"none"},t.hide=function(e,t,n){var o=d(n,t.value);e.style.display=o?"none":"block"},t["class"]=function(e,t,n){if(t.value){var o=d(n,t.value);c(e,o+"")}},t.on=function(e,t,o,l){var r=t.name.replace(n,""),a=l[t.value];"function"==typeof a&&(e[r]=a.bind(e))},i.prototype.bindModel=function(){var e=this;e.nodes=e.template.querySelectorAll("*"),e.bindNode(e.template);for(var t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])},i.prototype.bindNode=function(e){for(var o=this,l=e.attributes,i=0,c=l.length;c>i;i++){var d=l[i],s=d.name,u=s.replace(n,"").replace(a,"");n.test(s)&&u in t?t[u](e,d,o.model):r.test(s)&&t.on(e,d,o.model,o.controller)}},i.prototype.update=function(){for(var e=this,t=0,n=e.nodes.length;n>t;t++)e.bindNode(e.nodes[t])};var s=function(e,t){var n=new i({template:e,context:t.context,model:t.model,controller:t.controller});return n};return{view:s}});